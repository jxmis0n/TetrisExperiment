<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport"
        content="width=device-width,initial-scale=1,user-scalable=no"/>
  <title>Tetris vs CPU</title>
  <style>
    /* prevent any scrolling */
    html, body { margin:0; padding:0; height:100%; overflow:hidden; }

    /* == LOADING & COUNTDOWN overlaid (unchanged) == */
    /* … your existing loading & countdown styles … */

    /* == SCORE PILL BAR & LEAD == */
    #scoreBars {
      position:absolute; top:0; left:0; right:0;
      background:#eee; padding:10px 0; text-align:center; z-index:10;
    }
    .pill {
      display:inline-block; margin:0 10px;
      padding:6px 20px; border-radius:20px;
      font-family:sans-serif; font-size:16px;
      color:#fff; font-weight:bold;
    }
    .pill.blue { background:linear-gradient(to right,navy,blue); }
    .pill.red  { background:linear-gradient(to right,maroon,red); }
    #leadText {
      position:absolute; top:50%; left:50%;
      transform:translate(-50%,-50%) rotate(-15deg);
      font-size:32px; color:deeppink;
      text-shadow:0 0 8px hotpink;
      display:none; z-index:50;
      animation:leadShake 0.1s infinite alternate;
    }
    @keyframes leadShake { from{transform:translate(-3px,-3px) rotate(-15deg);} to{transform:translate(3px,3px) rotate(-15deg);} }

    /* == RESPONSIVE TETRIS WRAPPER & CANVASES == */
    #tetrisWrapper {
      position:absolute; top:60px; bottom:120px; left:0; right:0;
      display:flex; justify-content:center; align-items:flex-start;
      gap:10px; padding:5px;
    }
    canvas {
      background:#000; box-shadow:0 0 8px rgba(0,0,0,0.5);
      /* make canvas scale to parent */
      width:100%; height:auto; max-width:300px;
      touch-action:none;
    }
    canvas.player { border:3px solid blue; }
    canvas.cpu    { border:3px solid red; }

    /* == CONTROLS & HOLD == */
    /* … unchanged … */

    /* == MOBILE LAYOUT == */
    @media(max-width:600px) {
      #tetrisWrapper { flex-direction:column; }
      /* CPU board width override for High comp in JS */
      /* rest unchanged */
    }
  </style>
</head>
<body>
  <!-- SCORE PILL ORDER SWAPPED -->
  <div id="scoreBars">
    <div id="playerPill" class="pill blue">
      <span>Player:</span> <span id="playerScorePill">0 pts</span>
    </div>
    <div id="cpuPill" class="pill red">
      <span id="cpuNamePill">CPU</span>: <span id="cpuScorePill">0 pts</span>
    </div>
    <div id="leadText"></div>
  </div>

  <!-- LOADING, COUNTDOWN, TETRIS ALERT… (same as before) -->

  <!-- TETRIS BOARDS -->
  <div id="tetrisWrapper">
    <canvas id="playerCanvas" class="player" width="300" height="600"></canvas>
    <canvas id="cpuCanvas"    class="cpu"    width="300" height="600"></canvas>
  </div>

  <!-- HOLD + CONTROLS… (same) -->

  <!-- MOBILE TOUCH BUTTONS… (same) -->

  <script>
  (function(){
    /* your existing JS… with no changes to the core logic… */

    // Adjust CPU canvas size on mobile+High:
    if(isMobile && competition==='high'){
      document.getElementById('playerCanvas').style.maxWidth='90vw';
      document.getElementById('cpuCanvas')   .style.maxWidth='60vw';
    }

    // rest of game loop, input, chat, etc…
  })();
  </script>
</body>
</html>
